{# manager/input_by_date_admin.html #}
{% extends 'manager/shift_admin.html' %}
{% load lookup %}   {# ← ここで lookup フィルタを読み込む #}

{% block title %}{{ date }} の必要人数設定{% endblock %}

{% block content %}
  <h2>{{ date }} の必要人数設定</h2>
  <form method="post">
    {% csrf_token %}
    <table>
      <tr>
        <th>時間帯</th>
        <th>必要人数</th>
      </tr>
      {% for slot in time_slots %}
      <tr>
        <td>{{ slot }}</td>
        <td>
          
          <input
            type="number"
            name="slot_{{ forloop.counter0 }}"
            min="0"
            value="{{ existing|lookup:slot|default_if_none:'' }}"
          >
        </td>
      </tr>
      {% endfor %}
    </table>
    <button type="submit">保存</button>
    
  </form>
{% endblock %}
